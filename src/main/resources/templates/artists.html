<!DOCTYPE html>
<html>
    <head>
        <title>Catch | Artists</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
        <link rel="shortcut icon" href="https://res.cloudinary.com/hqx5vpvj4/image/upload/v1569985458/static/njwnn4takgv2rqo7ks9i.ico">
        <script
            src="https://code.jquery.com/jquery-3.1.1.min.js"
            integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
            crossorigin="anonymous">
        </script>
        <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>

        <style>
            body {
                background: #F9F9F9;
            }
        </style>
    </head>
    <body>
        <div class="ui active inverted dimmer" id="global-loader" style="display: none">
            <div class="ui small text loader"></div>
        </div>

        <!--NAVIGATION BAR-->
        <form th:action="@{/logged-in/logout}" method="post" id="form-logout" style="display: none">
            <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
        </form>
        <div class="ui container" sec:authorize="!isAuthenticated()">
            <div class="ui bottom fixed huge menu">
                <div class="item">
                    <img src="https://res.cloudinary.com/hqx5vpvj4/image/upload/v1569575644/static/jo8jab4kzemksimbcyte.jpg">
                </div>
                <a class="item icon" href="/" onclick="document.getElementById('global-loader').style = ''">
                    <i class="home icon"></i>
                </a>
                <a class="item active icon" href="/artists" onclick="document.getElementById('global-loader').style = ''">
                    <i class="users icon"></i>
                </a>
                <a class="ui item" href="/login" onclick="document.getElementById('global-loader').style = ''">
                    <i class="sign in alternate icon"></i>
                </a>
                <a class="ui item" href="/register" onclick="document.getElementById('global-loader').style = ''">
                    <i class="user plus icon"></i>
                </a>
            </div>
        </div>
        <div class="ui container" sec:authorize="isAuthenticated()">
            <div class="ui bottom fixed huge menu">
                <div class="item">
                    <img src="https://res.cloudinary.com/hqx5vpvj4/image/upload/v1569575644/static/jo8jab4kzemksimbcyte.jpg">
                </div>
                <a class="item icon" href="/" onclick="document.getElementById('global-loader').style = ''">
                    <i class="home icon"></i>
                </a>
                <a class="item active icon" href="/artists" onclick="document.getElementById('global-loader').style = ''">
                    <i class="users icon"></i>
                </a>
                <a class="item icon" href="/logged-in/home" onclick="document.getElementById('global-loader').style = ''">
                    <i class="user icon"></i>
                </a>
                <a class="item icon" href="#" 
                   onclick="document.getElementById('global-loader').style = ''; document.getElementById('form-logout').submit()">
                    <i class="sign out alternate icon"></i>
                </a>
            </div>
        </div>

        <div class="ui hidden divider"></div>
        <div class="ui container">
            <div class="ui divided items">
                <div class="item" th:each="user : ${artists}">
                    <div class="image" onclick="#" th:attr="onclick=|location.href='/${user.username()}'; event.preventDefault();|">
                        <img th:if="${user.profilePic()} == ''" src="https://res.cloudinary.com/hqx5vpvj4/image/upload/v1569906610/static/ecmvsberhzwodn6roitt.png" />
                        <img th:unless="${user.profilePic()} == ''" th:src="${user.profilePic()}" />
                    </div>
                    <div class="content">
                        <a href="#" onclick="#" th:attr="onclick=|location.href='/${user.username()}'; event.preventDefault();|" class="header" th:if="${user.name() != ''}">
                            [[${user.name()}]]
                        </a>
                        <div class="extra">
                            <div class="ui label"><i class="user icon"></i> [[${user.username()}]]</div>
                            <a href="#"
                               onclick="#"
                               th:attr="onclick=|window.open('${user.website()}', '_blank'); event.preventDefault();|"
                               th:if="${user.website() != ''}">
                                <div class="ui label"><i class="globe icon"></i> [[${user.website()}]]</div>
                            </a>
                            <div class="ui label" th:if="${user.email() != ''}"><i class="envelope icon"></i> [[${user.email()}]]</div>
                            <div class="ui label" th:if="${user.phone() != ''}"><i class="phone icon"></i> [[${user.phone()}]]</div>
                        </div>
                        <div class="description">
                            <p style="white-space: pre-line">[[${user.bio()}]]</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--NAVIGATION BAR-->
        <div class="ui hidden divider"></div>
        <div class="ui hidden divider"></div>
        <div class="ui hidden divider"></div>
        <div class="ui hidden divider"></div>
    </body>
</html>
